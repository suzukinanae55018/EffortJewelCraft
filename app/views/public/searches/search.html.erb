<div class="container mt-3">
  <div class="row">
    <div class="col-sm-12 mx-auto">
      <h1>検索結果一覧</h1>
      <% if @range == "DiaryRecord" %>
        <h2>DiaryRecords search for "<%= params[:word] %>"</h2>
      <% elsif @range == "User" %>
        <h2>Users search for "<%= params[:word] %>"</h2>
      <% end %>

      <div>
        <!--検索対象モデルがUser -->
        <% if @range == "User" %>
          <div class="row">
            <% @users.order(created_at: :desc).each do |user| %>
              <div class="col-md-2">
                <div class="name-truncate">
                  <%= link_to user_path(user) do %>
                    <%= image_tag user.get_profile_image(100, 100), class: 'circle-image' %><br/>
                    <%= user.name %>
                  <% end %>
                </div>
                <div class="user-introduction">
                  <%= user.introduction %>
                </div>
              </div>
            <% end %>
          </div>
          <%= paginate @users %>

        <% elsif @range == "DiaryRecord" %>
          <div class="row">
            <% @diary_records.order(created_at: :desc).each do |diary_record| %>
              <div class="col-6">
                <div class="bg-image mb-3">
                  <%= image_tag diary_record.get_background_image(200, 200), style: "width: 100%; border-radius: 10px;" %>
                  <div class="overlay-text">
                    <%= image_tag diary_record.user.get_profile_image(80, 80), class: 'circle-image' %><br/>
                    <span class="name-truncate"><%= diary_record.user.name %></span>
                  </div>
                  <div class="wrap-content">
                    <div class="overlay-text1"><%= link_to diary_record.title, diary_record_path(diary_record.id) %></div>
                    <div class="overlay-text2 truncate-text"><%= diary_record.body %></div>
                    <div class="overlay-text3">タグ： <%= diary_record.category %></div>
                    <div class="overlay-image"><%= image_tag diary_record.get_diary_record_image(120, 120)%></div>
                    <div class="overlay-text4">
                      <div id="comment_counter">
                        <%= render "public/diary_record_comments/counter", diary_record: diary_record %>
                      </div>
                      <div id="favorite_buttons_<%= diary_record.id %>">
                        <%= render "public/favorites/favorite-btn", diary_record: diary_record %>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
          <%= paginate @diary_records %>
        <% end %>
      </div>
    </div>
  </div>
</div>